<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ•°æ®ç®¡ç†åå°</title>

  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#667eea">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="AIè‹±è¯­å­¦ä¹ ">
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/icons/icon-152x152.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png">
  <link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png">
  <link rel="apple-touch-icon" sizes="128x128" href="/icons/icon-128x128.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/icon-152x152.png">
  <link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png">
  <link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png">
  <link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png">
  <link rel="icon" href="/icons/icon.png" type="image/png">
  <link rel="icon" type="image/svg+xml" href="/icons/icon.svg">

  <link rel="stylesheet" href="css/style.css">
  <!-- PJAX å¹³æ»‘é¡µé¢åˆ‡æ¢ - å·²æš‚åœ -->
  <!-- <script src="js/pjax.js"></script> -->
  <style>
    /* Admin é¡µé¢ä¸“ç”¨æ ·å¼ - å›ºå®šå®¹å™¨é«˜åº¦,å†…éƒ¨æ»šåŠ¨ */
    .container {
      height: calc(100vh - 3rem);
      min-height: 800px;
      max-height: calc(100vh - 3rem);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      /* å®¹å™¨æœ¬èº«ä¸æ»šåŠ¨ */
    }

    .page-header h1 {
      font-size: 2.2rem;
    }

    .nav-tabs {
      display: flex;
      gap: 1rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      justify-content: center;
    }

    .tab-btn {
      padding: 0.85rem 1.75rem;
      border: none;
      border-radius: var(--border-radius);
      background: var(--secondary);
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 600;
      box-shadow: var(--shadow-sm);
      position: relative;
      overflow: hidden;
    }

    .tab-btn:before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.1) 100%);
      transform: translateY(-100%);
      transition: transform 0.3s;
    }

    .tab-btn:hover:before {
      transform: translateY(0);
    }

    .tab-btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow);
    }

    .tab-btn.active {
      background: var(--primary);
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(79, 70, 229, 0.25);
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .section-title {
      font-size: 1.5rem;
      color: var(--primary);
      font-weight: 600;
    }

    .action-bar {
      display: flex;
      gap: 1rem;
      margin-bottom: 1.5rem;
      margin-top: 1.5rem;
      flex-wrap: wrap;
      transition: height 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        margin 0.3s ease,
        opacity 0.3s ease;
      will-change: height, margin, opacity;
    }

    .data-table-container {
      overflow-x: auto;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      margin-bottom: 2rem;
      transition: height 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        opacity 0.3s ease;
      will-change: height, max-height, opacity;
    }

    .data-table {
      width: 100%;
      border-collapse: collapse;
      /* ä¿®å¤è¡ŒèƒŒæ™¯ä¸è¿ç»­ */
      border-spacing: 0;
      background: white;
      table-layout: auto;
      /* å…è®¸è¡¨æ ¼è‡ªåŠ¨è°ƒæ•´åˆ—å®½ */
      min-width: 800px;
      /* ç¡®ä¿è¡¨æ ¼æœ‰æœ€å°å®½åº¦ä»¥å®¹çº³æ‰€æœ‰åˆ— */
    }

    .data-table th,
    .data-table td {
      padding: 1.2rem 1rem;
      text-align: left;
      border-bottom: 1px solid rgba(226, 232, 240, 0.8);
      vertical-align: middle;
      /* æŒ‰é’®ä¸æ–‡æœ¬å‚ç›´å±…ä¸­ï¼Œé¿å…é”™ä½ */
    }

    /* ä¸ºä¸åŒåˆ—è®¾ç½®åˆé€‚çš„å®½åº¦ */
    .data-table .batch-column {
      width: 40px;
      min-width: 40px;
    }

    .data-table th:nth-child(2),
    /* å•è¯åˆ— */
    .data-table td:nth-child(2) {
      min-width: 120px;
      max-width: 200px;
    }

    .data-table th:nth-child(3),
    /* ç¿»è¯‘åˆ— */
    .data-table td:nth-child(3) {
      min-width: 150px;
      max-width: 300px;
      word-wrap: break-word;
    }

    .data-table th:nth-child(4),
    /* é”™è¯¯æ¬¡æ•°åˆ— */
    .data-table td:nth-child(4),
    .data-table th:nth-child(5),
    /* ç»ƒä¹ æ¬¡æ•°åˆ— */
    .data-table td:nth-child(5),
    .data-table th:nth-child(6),
    /* æƒé‡åˆ— */
    .data-table td:nth-child(6) {
      min-width: 80px;
      max-width: 120px;
      text-align: center;
    }

    .data-table th {
      background: #f1f5f9;
      font-weight: 600;
      color: #475569;
      position: sticky;
      top: 0;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    }

    .data-table tr:last-child td {
      border-bottom: none;
    }

    .data-table tr:hover td {
      background-color: #f8fafc;
    }

    .data-table td.word-cell {
      font-weight: 600;
      color: var(--primary);
    }

    /* æŒ‰é’®æ ·å¼ç»Ÿä¸€å·²ç§»è‡³ css/style.css */

    .modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      backdrop-filter: blur(3px);
      opacity: 0;
      transition: opacity 0.3s ease;
      overflow-y: auto;
      overflow-x: hidden;
      padding: 2rem 1rem;
    }

    .modal.visible {
      opacity: 1;
    }

    .modal-content {
      background: white;
      border-radius: var(--border-radius);
      min-width: 420px;
      max-width: 90%;
      box-shadow: var(--shadow-lg);
      transform: translateY(20px);
      transition: transform 0.3s ease, opacity 0.3s ease;
      opacity: 0;
      margin: auto;
      position: relative;
      max-height: calc(100vh - 4rem);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .modal-body {
      padding: 1.25rem;
      overflow-y: auto;
      overflow-x: hidden;
      flex: 1;
    }

    .modal-content .modal-header {
      padding: 1.25rem 1.25rem 0.75rem 1.25rem;
      flex-shrink: 0;
    }

    .modal-content .form-actions {
      padding: 0.75rem 1.25rem 1.25rem 1.25rem;
      flex-shrink: 0;
    }

    .modal.visible .modal-content {
      transform: translateY(0);
      opacity: 1;
    }

    .modal-header {
      margin-bottom: 1rem;
      padding-bottom: 0.75rem;
      border-bottom: 1px solid #e2e8f0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-title {
      font-size: 1.5rem;
      color: var(--primary);
      font-weight: 600;
    }

    .modal-close {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #94a3b8;
      transition: color 0.15s ease;
      width: 2.25rem;
      height: 2.25rem;
      border-radius: 999px;
      display: grid;
      place-items: center;
      transform: none !important;
      box-shadow: none !important;
      transition: color 0.3s ease;
    }

    .modal-close:hover {
      color: var(--error);
    }

    /* ç§»é™¤äº†:activeåŠ¨ç”»ä»¥ä¿æŒçº¯å‡€æ ·å¼ */

    .form-actions {
      display: flex;
      justify-content: flex-end;
      gap: 1rem;
      margin-top: 1rem;
    }

    .file-input-container {
      margin: 2rem 0;
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      background: #f8fafc;
      padding: 2rem;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-sm);
      border: 1px solid rgba(226, 232, 240, 0.8);
    }

    .file-input-header {
      font-size: 1.2rem;
      color: var(--primary);
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .file-input-group {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .custom-file-input {
      display: flex;
      align-items: center;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .file-name {
      padding: 0.5rem 1rem;
      background: white;
      border-radius: var(--border-radius-sm);
      border: 1px solid #e2e8f0;
      flex: 1;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    input[type="file"] {
      display: none;
    }

    .file-label {
      padding: 0.75rem 1.25rem;
      background: var(--info);
      color: white;
      border-radius: var(--border-radius-sm);
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
      box-shadow: var(--shadow-sm);
      text-align: center;
    }

    .file-label:hover {
      background: #2563eb;
      transform: translateY(-2px);
      box-shadow: var(--shadow);
    }

    .badge {
      display: inline-block;
      padding: 0.35rem 0.75rem;
      border-radius: 2rem;
      font-size: 0.85rem;
      font-weight: 600;
    }

    .badge-success {
      background: #dcfce7;
      color: #166534;
    }

    .badge-error {
      background: #fee2e2;
      color: #991b1b;
    }

    .card {
      background: white;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .weight-item {
      display: flex;
      justify-content: space-between;
      padding: 0.5rem 0;
      border-bottom: 1px solid #f1f5f9;
    }

    .weight-item:last-child {
      border-bottom: none;
    }

    .weight-label {
      font-weight: 500;
      color: #475569;
    }

    .weight-value {
      font-weight: 600;
      color: var(--primary);
    }

    /* å“åº”å¼è®¾è®¡ä¼˜åŒ– */
    @media (max-width: 768px) {
      .modal-content {
        padding: 1rem;
        min-width: unset;
        width: 95%;
      }

      .data-table th,
      .data-table td {
        padding: 0.75rem;
      }

      .section-header {
        flex-direction: column;
        align-items: flex-start;
      }

      .action-bar {
        width: 100%;
        justify-content: space-between;
      }
    }

    /* ä¸“é—¨ä¸ºæ¨¡æ€æ¡†å†…éƒ¨è®¾ç½®ç´§å‡‘é—´è· */
    .modal .form-group {
      margin-bottom: 0.9rem;
    }

    .modal .form-group label {
      margin-bottom: 0.4rem;
    }

    .modal input,
    .modal .form-control {
      padding: 0.6rem 0.9rem;
    }

    @media (max-width: 480px) {
      .tab-btn {
        width: 100%;
      }

      .form-actions {
        flex-direction: column;
      }

      .form-actions .btn {
        width: 100%;
      }

      /* ç§»åŠ¨ç«¯æŒ‰é’®ä¼˜åŒ– */
      .action-btns {
        gap: 0.25rem;
      }

      .action-btns .btn {
        padding: 0.4rem 0.6rem;
        font-size: 0.8rem;
        min-width: 50px;
        height: 28px;
      }

      .data-table td:last-child {
        min-width: 180px;
      }
    }

    /* æ‰¹é‡å¯¼å…¥ç›¸å…³æ ·å¼ */
    textarea.form-control {
      min-height: 120px;
      resize: vertical;
      font-family: monospace;
    }

    .format-help {
      margin: 1rem 0;
      padding: 1rem;
      background: #f8fafc;
      border-radius: var(--border-radius-sm);
      border: 1px solid #e2e8f0;
    }

    .format-help pre {
      background: white;
      padding: 0.75rem;
      border-radius: var(--border-radius-sm);
      border: 1px solid #e2e8f0;
      overflow-x: auto;
      white-space: pre-wrap;
      font-size: 0.9rem;
    }

    .format-help p {
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: #475569;
    }

    .batch-checkbox {
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    .mode-selector {
      margin-right: 1rem;
    }

    .mode-selector select {
      padding: 0.75rem 1.25rem;
      border-radius: var(--border-radius-sm);
      border: 2px solid #e2e8f0;
      background-color: white;
      font-size: 1rem;
      font-weight: 500;
      color: var(--text-primary);
      cursor: pointer;
      transition: all 0.2s;
    }

    .mode-selector select:focus {
      outline: none;
      border-color: var(--secondary);
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
    }

    .text-warning {
      color: #e11d48;
      font-weight: 500;
      margin-top: 0.5rem;
    }

    /* åˆ é™¤ç¡®è®¤æç¤ºæ¡†æ ·å¼ */
    .confirm-tip {
      position: absolute;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      z-index: 1000;
      width: 220px;
      text-align: center;
      transform: translateX(-50%) translateY(0);
      margin-top: -60px;
      animation: tipFadeIn 0.2s ease-in-out forwards;
    }

    .confirm-tip:before {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 8px solid transparent;
      border-right: 8px solid transparent;
      border-top: 8px solid #ddd;
    }

    .confirm-tip:after {
      content: '';
      position: absolute;
      bottom: -7px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 7px solid transparent;
      border-right: 7px solid transparent;
      border-top: 7px solid #fff;
    }

    .confirm-tip p {
      margin: 0 0 8px 0;
      font-size: 14px;
    }

    .confirm-tip-buttons {
      display: flex;
      justify-content: space-between;
    }

    .confirm-tip-buttons button {
      padding: 3px 8px;
      border-radius: 3px;
      border: none;
      cursor: pointer;
      font-size: 12px;
    }

    .confirm-tip-cancel {
      background-color: #f0f0f0;
      color: #333;
    }

    .confirm-tip-confirm {
      background-color: #dc3545;
      color: white;
    }

    /* ç¡®è®¤æç¤ºé¢å¤–æ ·å¼ */
    .confirm-message {
      margin: 0 0 8px 0;
      font-size: 14px;
    }

    .confirm-actions {
      display: flex;
      justify-content: space-between;
    }

    .confirm-btn {
      padding: 3px 8px;
      border-radius: 3px;
      border: none;
      cursor: pointer;
      font-size: 12px;
    }

    .confirm-cancel {
      background-color: #f0f0f0;
      color: #333;
    }

    .confirm-yes {
      background-color: #dc3545;
      color: white;
    }

    @keyframes tipFadeIn {
      from {
        opacity: 0;
        transform: translateX(-50%) translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }
    }

    .data-table td:last-child {
      min-width: 200px;
      white-space: nowrap;
      padding-right: 1.5rem;
    }

    /* ç¡®ä¿æ“ä½œæŒ‰é’®å®¹å™¨æœ‰è¶³å¤Ÿç©ºé—´ */
    .data-table .action-btns {
      display: flex;
      gap: 0.5rem;
      flex-wrap: nowrap;
      justify-content: flex-start;
    }

    /* è¯åº“æ‰¹é‡åˆ—ï¼ˆé»˜è®¤éšè—ï¼Œé€šè¿‡JSåˆ‡æ¢æ˜¾ç¤ºï¼‰ */
    .batch-column-vocab {
      display: none;
      width: 40px;
    }

    .favorite-row {
      background-color: rgba(251, 191, 36, 0.08) !important;
    }

    .favorite-row:hover td {
      background-color: rgba(251, 191, 36, 0.15) !important;
    }

    /* é˜»æ­¢è¡¨æ ¼è¡Œæ–‡æœ¬é€‰æ‹© */
    .data-table tbody tr {
      user-select: none;
      /* æ ‡å‡†è¯­æ³• */
      -webkit-user-select: none;
      /* Safariæµè§ˆå™¨ */
      -moz-user-select: none;
      /* Firefoxæµè§ˆå™¨ */
      -ms-user-select: none;
      /* IE/Edgeæµè§ˆå™¨ */
    }

    /* åˆ†æ®µå¼æ ‡ç­¾é¡µ */
    .segmented-tabs {
      position: relative;
      display: inline-flex;
      gap: 0.5rem;
      background: rgba(99, 102, 241, 0.08);
      border-radius: 999px;
      padding: 0.5rem;
      margin: 0 auto 1.5rem;
      box-shadow: var(--shadow-sm);
      max-width: 100%;
      overflow-x: auto;
      overflow-y: hidden;
      scrollbar-width: none;
      /* Firefox */
      -ms-overflow-style: none;
      /* IE and Edge */
      flex-shrink: 0;
      /* é˜²æ­¢è¢«å‹ç¼© */
    }

    .segmented-tabs::-webkit-scrollbar {
      display: none;
      /* Chrome, Safari, Opera */
    }

    /* å‘å†…å¼¯æ›²è¾¹ç¼˜æ•ˆæœï¼ˆåœ†ç¯æ¨¡æ‹Ÿï¼‰ */
    .segmented-tabs::before,
    .segmented-tabs::after {
      content: '';
      position: fixed;
      top: auto;
      bottom: auto;
      height: 100%;
      width: 32px;
      pointer-events: none;
      z-index: 2;
    }

    .segmented-tabs::before {
      left: 0;
      background: linear-gradient(to right,
          rgba(99, 102, 241, 0.08) 0%,
          rgba(99, 102, 241, 0.06) 30%,
          transparent 100%);
      border-radius: 999px 0 0 999px;
    }

    .segmented-tabs::after {
      right: 0;
      background: linear-gradient(to left,
          rgba(99, 102, 241, 0.08) 0%,
          rgba(99, 102, 241, 0.06) 30%,
          transparent 100%);
      border-radius: 0 999px 999px 0;
    }

    /* å†…é˜´å½±æ•ˆæœå¢å¼ºå¼¯æ›²æ„Ÿ */
    .segmented-tabs {
      box-shadow:
        var(--shadow-sm),
        inset 4px 0 8px -4px rgba(99, 102, 241, 0.15),
        inset -4px 0 8px -4px rgba(99, 102, 241, 0.15);
    }

    /* åœ¨å°å±å¹•ä¸Šå…è®¸æ»šåŠ¨ */
    @media (max-width: 768px) {
      .segmented-tabs {
        display: flex;
        justify-content: flex-start;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: thin;
        scrollbar-color: rgba(99, 102, 241, 0.3) transparent;
      }

      .segmented-tabs::-webkit-scrollbar {
        height: 4px;
      }

      .segmented-tabs::-webkit-scrollbar-track {
        background: transparent;
        margin: 0 20px;
      }

      .segmented-tabs::-webkit-scrollbar-thumb {
        background: rgba(99, 102, 241, 0.3);
        border-radius: 999px;
      }

      .segmented-tabs::-webkit-scrollbar-thumb:hover {
        background: rgba(99, 102, 241, 0.5);
      }

      /* ç§»åŠ¨ç«¯å‡å¼±è¾¹ç¼˜æ•ˆæœ */
      .segmented-tabs::before,
      .segmented-tabs::after {
        width: 20px;
      }
    }

    .segmented-tabs input[type="radio"] {
      position: absolute;
      opacity: 0;
      pointer-events: none;
    }

    .segmented-tabs label {
      position: relative;
      z-index: 1;
      padding: 0.6rem 1.1rem;
      border-radius: 999px;
      cursor: pointer;
      color: #475569;
      font-weight: 600;
      transition: color .25s ease;
      white-space: nowrap;
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      user-select: none;
    }

    .segmented-tabs .chip {
      background: rgba(255, 255, 255, 0.9);
      color: var(--primary);
      border: 1px solid rgba(79, 70, 229, 0.2);
      padding: 0.05rem 0.5rem;
      border-radius: 999px;
      font-size: .8rem;
      line-height: 1.2;
    }

    .segmented-tabs .seg-indicator {
      position: absolute;
      top: 4px;
      bottom: 4px;
      left: 4px;
      width: 0;
      background: #fff;
      border-radius: 999px;
      box-shadow: var(--shadow);
      transition: transform .35s cubic-bezier(.2, .8, .2, 1), width .35s ease;
      will-change: transform, width;
    }

    /* æ ‡ç­¾é¡µè§†å£å’Œé¢æ¿ */
    .tabs-viewport {
      overflow: hidden;
      position: relative;
      width: 100%;
      flex: 1;
      /* å æ®å‰©ä½™ç©ºé—´ */
      min-height: 0;
      /* å…è®¸ flexbox æ”¶ç¼© */
      padding-bottom: 2rem;
      /* åº•éƒ¨é—´éš” */
    }

    .tab-panels {
      position: relative;
      width: 100%;
      height: 100%;
    }

    .tab-panel {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow-y: auto;
      overflow-x: hidden;
      padding-right: 0.5rem;
      padding-bottom: 2rem;
      /* å†…å®¹åº•éƒ¨é—´éš” */
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      /* éšè—æ—¶ä¸å¯äº¤äº’ */
      transition: opacity 0.25s ease-in-out, visibility 0s linear 0.25s;
    }

    .tab-panel.active {
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
      /* æ˜¾ç¤ºæ—¶å¯äº¤äº’ */
      transition: opacity 0.25s ease-in-out, visibility 0s linear 0s;
      z-index: 1;
      /* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */
    }

    /* ä¼˜åŒ–æ»šåŠ¨æ¡æ ·å¼ */
    .tab-panel::-webkit-scrollbar {
      width: 8px;
    }

    .tab-panel::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.05);
      border-radius: 4px;
    }

    .tab-panel::-webkit-scrollbar-thumb {
      background: rgba(79, 70, 229, 0.3);
      border-radius: 4px;
    }

    .tab-panel::-webkit-scrollbar-thumb:hover {
      background: rgba(79, 70, 229, 0.5);
    }

    /* ç©ºçŠ¶æ€æ ·å¼ */
    .empty-state {
      text-align: center;
      color: #64748b;
      padding: 2.5rem 1rem;
    }

    .empty-state strong {
      color: var(--primary);
    }

    /* æ‰¹é‡æ“ä½œè¿‡æ¸¡åŠ¨ç”» */
    .batch-actions,
    .batch-actions-vocab,
    .batch-actions-records {
      transition: height 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        opacity 0.3s ease,
        margin 0.3s ease,
        transform 0.3s ease;
      will-change: height, opacity, margin, transform;
      overflow: hidden;
    }

    .batch-actions.hiding,
    .batch-actions-vocab.hiding,
    .batch-actions-records.hiding {
      opacity: 0;
      transform: translateY(-10px);
      height: 0;
      margin: 0;
    }

    .batch-actions.showing,
    .batch-actions-vocab.showing,
    .batch-actions-records.showing {
      opacity: 1;
      transform: translateY(0);
    }

    /* æ‰¹é‡åˆ—è¿‡æ¸¡åŠ¨ç”» */
    .batch-column,
    .batch-column-vocab,
    .batch-column-records {
      transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        opacity 0.3s ease,
        padding 0.3s ease;
      will-change: width, opacity, padding;
    }

    /* ä¸ºç§»åŠ¨ç«¯å¯¼èˆªæ é¢„ç•™ç©ºé—´ */
    /* ä¸ºç§»åŠ¨ç«¯å¯¼èˆªæ é¢„ç•™ç©ºé—´ */
    @media (max-width: 768px) {
      body {
        padding-bottom: 5rem;
      }

      /* ç§»åŠ¨ç«¯è°ƒæ•´å®¹å™¨é«˜åº¦ */
      .container {
        height: calc(100vh - 2rem);
        min-height: 500px;
        max-height: calc(100vh - 2rem);
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="page-header">
      <h1>æ•°æ®ç®¡ç†åå°</h1>
    </div>

    <!-- åˆ†æ®µå¼æ ‡ç­¾é¡µ -->
    <div class="segmented-tabs" role="tablist" aria-label="ç®¡ç†å¯¼èˆª">
      <input type="radio" id="tab-words" name="admin-tabs" value="words" checked>
      <label for="tab-words" data-tab="words" role="tab" aria-controls="wordsTab" aria-selected="true">
        å•è¯ç®¡ç† <span class="chip" id="count-words">0</span>
      </label>
      <input type="radio" id="tab-records" name="admin-tabs" value="records">
      <label for="tab-records" data-tab="records" role="tab" aria-controls="recordsTab" aria-selected="false">
        ç»ƒä¹ è®°å½• <span class="chip" id="count-records">0</span>
      </label>
      <input type="radio" id="tab-user-data" name="admin-tabs" value="user-data">
      <label for="tab-user-data" data-tab="user-data" role="tab" aria-controls="userDataTab" aria-selected="false">
        ç”¨æˆ·æ•°æ®
      </label>
      <input type="radio" id="tab-backup" name="admin-tabs" value="backup">
      <label for="tab-backup" data-tab="backup" role="tab" aria-controls="backupTab" aria-selected="false">
        æ•°æ®å¤‡ä»½
      </label>
      <span class="seg-indicator" aria-hidden="true"></span>
    </div>

    <!-- é¢æ¿è§†å£ -->
    <div class="tabs-viewport">
      <div class="tab-panels" id="tabPanels">

        <!-- å•è¯ç®¡ç† -->
        <div id="wordsTab" class="tab-content tab-panel active" data-tab="words">
          <!-- é¢åŒ…å±‘å¯¼èˆª -->
          <div class="breadcrumb-nav"
            style="margin-bottom: 1.5rem; padding: 0.75rem 1rem; background: #f8fafc; border-radius: var(--border-radius-sm); border: 1px solid #e2e8f0;">
            <span id="breadcrumbText" style="color: #475569; font-weight: 500;">è¯åº“ç®¡ç†</span>
            <button id="backToVocabularies" class="btn btn-secondary"
              style="display: none; margin-left: 1rem; padding: 0.5rem 1rem; font-size: 0.9rem;"
              onclick="showVocabularyView()">
              â† è¿”å›è¯åº“åˆ—è¡¨
            </button>
          </div>

          <!-- è¯åº“ç®¡ç†è§†å›¾ -->
          <div id="vocabularyManagementView">
            <div class="action-bar">
              <button class="btn btn-primary" onclick="showVocabularyModal(null)">
                <span>æ–°å»ºè¯åº“</span>
              </button>
              <div class="batch-actions-vocab" style="display: none;">
                <button id="batchMergeVocabBtn" class="btn btn-merge" onclick="openBatchMergeVocab()">æ‰¹é‡åˆå¹¶</button>
                <button id="batchDeleteVocabBtn" class="btn btn-delete-large"
                  onclick="batchDeleteVocab(event)">æ‰¹é‡åˆ é™¤</button>
              </div>
              <div style="flex: 1;"></div>
            </div>

            <div class="data-table-container">
              <table class="data-table">
                <thead>
                  <tr>
                    <th class="batch-column-vocab" style="display: none; width: 40px;">
                      <input type="checkbox" id="selectAllVocab" onchange="toggleSelectAllVocab()">
                    </th>
                    <th>è¯åº“åç§°</th>
                    <th>æè¿°</th>
                    <th>å•è¯æ•°é‡</th>
                    <th>çŠ¶æ€</th>
                    <th>åˆ›å»ºæ—¶é—´</th>
                    <th>æ“ä½œ</th>
                  </tr>
                </thead>
                <tbody id="vocabulariesTable"></tbody>
              </table>
            </div>
          </div>

          <!-- å•è¯ç®¡ç†è§†å›¾ -->
          <div id="wordManagementView" style="display: none;">
            <div class="action-bar">
              <button class="btn btn-primary" onclick="showEditModal(null)">
                <span>æ·»åŠ æ–°å•è¯</span>
              </button>
              <button class="btn btn-info" onclick="showBatchAddModal()">
                <span>æ‰¹é‡æ·»åŠ </span>
              </button>
              <div style="flex: 1;"></div>
              <div class="mode-selector">
                <select id="wordModeSelector" class="form-control" onchange="refreshWords()">
                  <option value="all">æ‰€æœ‰æ¨¡å¼</option>
                  <option value="context" selected>ä¸Šä¸‹æ–‡çŒœè¯</option>
                </select>
              </div>
              <div class="batch-actions" style="display: none;">
                <button id="batchDeleteBtn" class="btn btn-delete-large" onclick="batchDelete(event)">æ‰¹é‡åˆ é™¤</button>
              </div>
              <button class="btn btn-success" onclick="toggleBatchMode()">
                <span id="batchModeText">æ‰¹é‡ç®¡ç†</span>
              </button>
            </div>

            <div class="data-table-container">
              <table class="data-table">
                <thead>
                  <tr>
                    <th class="batch-column" style="display: none; width: 40px;">
                      <input type="checkbox" id="selectAllWords" onchange="toggleSelectAllWords()">
                    </th>
                    <th>å•è¯</th>
                    <th>ç¿»è¯‘</th>
                    <th>ä¸Šä¸‹æ–‡çŒœè¯(é”™è¯¯æ¬¡æ•°)</th>
                    <th>ä¸Šä¸‹æ–‡çŒœè¯(ç»ƒä¹ æ¬¡æ•°)</th>
                    <th>æƒé‡</th>
                    <th>æ“ä½œ</th>
                  </tr>
                </thead>
                <tbody id="wordsTable"></tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- ç»ƒä¹ è®°å½• -->
        <div id="recordsTab" class="tab-content tab-panel" data-tab="records">
          <div class="section-header">
            <h2 class="section-title">ç»ƒä¹ å†å²è®°å½•</h2>
            <div class="action-bar">
              <div class="mode-selector">
                <select id="recordModeSelector" class="form-control" onchange="refreshRecords()">
                  <option value="all">æ‰€æœ‰æ¨¡å¼</option>
                  <option value="context" selected>ä¸Šä¸‹æ–‡çŒœè¯</option>
                </select>
              </div>
              <div class="batch-actions-records" style="display: none;">
                <button id="batchDeleteRecordsBtn" class="btn btn-delete-large"
                  onclick="batchDeleteRecords(event)">æ‰¹é‡åˆ é™¤</button>
              </div>
              <button class="btn btn-success" onclick="toggleBatchModeRecords()">
                <span id="batchModeRecordsText">æ‰¹é‡ç®¡ç†</span>
              </button>
            </div>
          </div>
          <div class="data-table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th class="batch-column-records" style="display: none; width: 40px;">
                    <input type="checkbox" id="selectAllRecords" onchange="toggleSelectAllRecords()">
                  </th>
                  <th>æ—¥æœŸ</th>
                  <th>çŠ¶æ€</th>
                  <th>å•è¯</th>
                  <th>æ¨¡å¼</th>
                  <th>æ“ä½œ</th>
                </tr>
              </thead>
              <tbody id="recordsTable"></tbody>
            </table>
          </div>
        </div>

        <!-- ç”¨æˆ·æ•°æ® -->
        <div id="userDataTab" class="tab-content tab-panel" data-tab="user-data">
          <div class="section-header">
            <h2 class="section-title">ç”¨æˆ·æ•°æ®ç®¡ç†</h2>
          </div>

          <div
            style="background: white; padding: 2rem; border-radius: var(--border-radius); box-shadow: var(--shadow-sm); max-width: 800px; margin: 0 auto;">
            <!-- ç”¨æˆ·ç»Ÿè®¡å¡ç‰‡ -->
            <div
              style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
              <div
                style="background: linear-gradient(135deg, #fbbf24, #f59e0b); padding: 1.5rem; border-radius: var(--border-radius); color: white; text-align: center;">
                <div style="font-size: 0.9rem; opacity: 0.9; margin-bottom: 0.5rem;">ğŸ’° é‡‘å¸</div>
                <div id="userCoinsDisplay" style="font-size: 2rem; font-weight: 700;">0</div>
              </div>
              <div
                style="background: linear-gradient(135deg, #8b5cf6, #7c3aed); padding: 1.5rem; border-radius: var(--border-radius); color: white; text-align: center;">
                <div style="font-size: 0.9rem; opacity: 0.9; margin-bottom: 0.5rem;">ğŸ† ç­‰çº§</div>
                <div id="userLevelDisplay" style="font-size: 2rem; font-weight: 700;">1</div>
              </div>
              <div
                style="background: linear-gradient(135deg, #ec4899, #db2777); padding: 1.5rem; border-radius: var(--border-radius); color: white; text-align: center;">
                <div style="font-size: 0.9rem; opacity: 0.9; margin-bottom: 0.5rem;">ğŸ”¥ è¿ç»­å¤©æ•°</div>
                <div id="userStreakDisplay" style="font-size: 2rem; font-weight: 700;">0</div>
              </div>
              <div
                style="background: linear-gradient(135deg, #10b981, #059669); padding: 1.5rem; border-radius: var(--border-radius); color: white; text-align: center;">
                <div style="font-size: 0.9rem; opacity: 0.9; margin-bottom: 0.5rem;">ğŸ“š å­¦ä¹ å•è¯</div>
                <div id="userWordsDisplay" style="font-size: 2rem; font-weight: 700;">0</div>
              </div>
            </div>

            <!-- ç¼–è¾‘è¡¨å• -->
            <div
              style="background: #f8fafc; padding: 2rem; border-radius: var(--border-radius); border: 1px solid #e2e8f0;">
              <h3 style="margin-bottom: 1.5rem; color: var(--primary); font-size: 1.3rem;">ğŸ“ ç¼–è¾‘ç”¨æˆ·æ•°æ®</h3>

              <div class="form-group">
                <label for="editCoins">ğŸ’° é‡‘å¸æ•°é‡</label>
                <input type="number" id="editCoins" class="form-control" min="0" placeholder="è¾“å…¥é‡‘å¸æ•°é‡">
                <small class="form-text text-muted">ç”¨äºå•†åº—è´­ä¹°é“å…·å’Œçš®è‚¤</small>
              </div>

              <div class="form-group">
                <label for="editExp">â­ ç»éªŒå€¼</label>
                <input type="number" id="editExp" class="form-control" min="0" placeholder="è¾“å…¥ç»éªŒå€¼">
                <small class="form-text text-muted">ç»éªŒå€¼ç´¯ç§¯å¯æå‡ç­‰çº§</small>
              </div>

              <div class="form-group">
                <label for="editLevel">ğŸ† ç­‰çº§</label>
                <input type="number" id="editLevel" class="form-control" min="1" placeholder="è¾“å…¥ç­‰çº§">
                <small class="form-text text-muted">å½“å‰ç”¨æˆ·ç­‰çº§</small>
              </div>

              <div class="form-group">
                <label for="editStreak">ğŸ”¥ è¿ç»­å­¦ä¹ å¤©æ•°</label>
                <input type="number" id="editStreak" class="form-control" min="0" placeholder="è¾“å…¥è¿ç»­å¤©æ•°">
                <small class="form-text text-muted">è¿ç»­ç™»å½•å­¦ä¹ çš„å¤©æ•°</small>
              </div>

              <div class="form-group">
                <label for="editTotalWords">ğŸ“š ç´¯è®¡å­¦ä¹ å•è¯æ•°</label>
                <input type="number" id="editTotalWords" class="form-control" min="0" placeholder="è¾“å…¥å•è¯æ•°">
                <small class="form-text text-muted">å†å²ç´¯è®¡å­¦ä¹ çš„å•è¯æ€»æ•°</small>
              </div>

              <div class="form-group">
                <label for="editPracticeTime">â±ï¸ ç´¯è®¡å­¦ä¹ æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰</label>
                <input type="number" id="editPracticeTime" class="form-control" min="0" placeholder="è¾“å…¥å­¦ä¹ æ—¶é•¿">
                <small class="form-text text-muted">ç´¯è®¡ç»ƒä¹ æ—¶é•¿ï¼ˆä»¥åˆ†é’Ÿè®¡ï¼‰</small>
              </div>

              <div class="form-actions" style="margin-top: 2rem;">
                <button class="btn btn-primary" onclick="saveUserData()" style="padding: 0.75rem 2rem;">
                  ğŸ’¾ ä¿å­˜æ›´æ”¹
                </button>
                <button class="btn btn-secondary" onclick="resetUserData()" style="padding: 0.75rem 2rem;">
                  ğŸ”„ é‡ç½®æ•°æ®
                </button>
              </div>
            </div>

            <!-- æµ‹è¯•å·¥å…·åŒºåŸŸ -->
            <div
              style="margin-top: 2rem; padding: 2rem; background: white; border-radius: var(--border-radius); border: 1px solid #e2e8f0;">
              <h4 style="color: var(--primary); margin-bottom: 1.5rem;">ğŸ§ª æµ‹è¯•å·¥å…·</h4>

              <div style="display: grid; gap: 1rem;">
                <button class="btn btn-info" onclick="testShowMixReward()" style="width: 100%;">
                  ğŸ æµ‹è¯• Mix å¥–åŠ±å¼¹çª—
                </button>
                <button class="btn btn-info" onclick="testShowAchievement()" style="width: 100%;">
                  ğŸ† æµ‹è¯•æˆå°±é€šçŸ¥
                </button>
              </div>

              <small class="form-text text-muted" style="display: block; margin-top: 1rem;">
                è¿™äº›åŠŸèƒ½ä»…ç”¨äºæµ‹è¯• UI æ˜¾ç¤ºæ•ˆæœï¼Œä¸ä¼šå®é™…ä¿®æ”¹æ•°æ®
              </small>
            </div>

            <!-- æˆå°±ç®¡ç†åŒºåŸŸ -->
            <div
              style="margin-top: 2rem; padding: 2rem; background: white; border-radius: var(--border-radius); border: 1px solid #e2e8f0;">
              <h4 style="color: var(--primary); margin-bottom: 1.5rem;">ğŸ† æˆå°±ç®¡ç†</h4>

              <div id="achievementsList" style="display: grid; gap: 0.75rem;">
                <!-- æˆå°±åˆ—è¡¨å°†ç”± JavaScript åŠ¨æ€ç”Ÿæˆ -->
              </div>

              <div style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid #e2e8f0;">
                <button class="btn btn-secondary" onclick="resetAllAchievements()" style="width: 100%;">
                  ğŸ”„ é‡ç½®æ‰€æœ‰æˆå°±
                </button>
                <small class="form-text text-muted" style="display: block; margin-top: 0.5rem;">
                  è¿™å°†æ¸…ç©ºæ‰€æœ‰å·²è§£é”çš„æˆå°±ï¼Œä½†ä¸ä¼šæ‰£é™¤å·²è·å¾—çš„é‡‘å¸å¥–åŠ±
                </small>
              </div>
            </div>

            <!-- è¯¦ç»†ä¿¡æ¯ -->
            <div
              style="margin-top: 2rem; padding: 1.5rem; background: white; border-radius: var(--border-radius); border: 1px solid #e2e8f0;">
              <h4 style="color: var(--primary); margin-bottom: 1rem;">â„¹ï¸ è¯¦ç»†ä¿¡æ¯</h4>
              <div style="display: grid; gap: 0.75rem; font-size: 0.95rem;">
                <div
                  style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #f1f5f9;">
                  <span style="color: #64748b;">è´¦æˆ·åˆ›å»ºæ—¶é—´:</span>
                  <span id="userCreatedAt" style="font-weight: 600;">-</span>
                </div>
                <div
                  style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #f1f5f9;">
                  <span style="color: #64748b;">ä¸Šæ¬¡ç™»å½•æ—¥æœŸ:</span>
                  <span id="userLastLogin" style="font-weight: 600;">-</span>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0;">
                  <span style="color: #64748b;">å­¦ä¹ æ—¶é•¿(å°æ—¶):</span>
                  <span id="userPracticeHours" style="font-weight: 600;">0</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- æ•°æ®å¤‡ä»½ -->
        <div id="backupTab" class="tab-content tab-panel" data-tab="backup">
          <div class="section-header">
            <h2 class="section-title">æ•°æ®ç®¡ç†</h2>
          </div>

          <div class="file-input-container">
            <div>
              <h3 class="file-input-header">å¯¼å‡ºæ•°æ®</h3>
              <p>å°†æ‰€æœ‰å•è¯å’Œè®°å½•å¯¼å‡ºåˆ°JSONæ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿å¤‡ä»½æˆ–è¿ç§»ã€‚</p>
              <button class="btn btn-primary" onclick="exportData()" style="margin-top: 1rem;">
                <span>å¯¼å‡ºæ•°æ®</span>
              </button>
            </div>

            <div class="file-input-group">
              <h3 class="file-input-header">å¯¼å…¥æ•°æ®</h3>
              <p>ä»ä¹‹å‰å¯¼å‡ºçš„JSONæ–‡ä»¶å¯¼å…¥æ•°æ®ï¼Œå°†è¦†ç›–å½“å‰æ•°æ®ã€‚</p>

              <div class="custom-file-input">
                <div class="file-name" id="fileName">æœªé€‰æ‹©æ–‡ä»¶</div>
                <label for="importFile" class="file-label">é€‰æ‹©æ–‡ä»¶</label>
                <input type="file" id="importFile" accept=".json" onchange="updateFileName()">
              </div>

              <button class="btn btn-primary" onclick="importData()">
                <span>å¯¼å…¥æ•°æ®</span>
              </button>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- è¯åº“ç¼–è¾‘æ¨¡æ€æ¡† -->
  <div id="vocabularyModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="vocabularyModalTitle" tabindex="-1">
      <div class="modal-header">
        <h3 class="modal-title" id="vocabularyModalTitle">æ–°å»ºè¯åº“</h3>
        <button class="modal-close" aria-label="å…³é—­" title="æŒ‰ Esc ä¹Ÿå¯å…³é—­" onclick="closeVocabularyModal()">&times;</button>
      </div>

      <div class="modal-body">
        <div class="form-group">
          <label for="vocabularyName">è¯åº“åç§°</label>
          <input type="text" id="vocabularyName" placeholder="è¾“å…¥è¯åº“åç§°" required>
        </div>
        <div class="form-group">
          <label for="vocabularyDescription">è¯åº“æè¿°ï¼ˆå¯é€‰ï¼‰</label>
          <textarea id="vocabularyDescription" class="form-control" rows="3" placeholder="è¾“å…¥è¯åº“æè¿°"></textarea>
        </div>
      </div>

      <div class="form-actions">
        <button class="btn btn-delete-large" onclick="closeVocabularyModal()">å–æ¶ˆ</button>
        <button class="btn btn-primary" onclick="saveVocabulary()">ä¿å­˜</button>
      </div>
    </div>
  </div>

  <!-- è¯åº“åˆå¹¶ç¡®è®¤æ¨¡æ€æ¡† -->
  <div id="mergeVocabularyModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="mergeVocabularyTitle" tabindex="-1">
      <div class="modal-header">
        <h3 class="modal-title" id="mergeVocabularyTitle">åˆå¹¶è¯åº“</h3>
        <button class="modal-close" aria-label="å…³é—­" title="æŒ‰ Esc ä¹Ÿå¯å…³é—­"
          onclick="closeMergeVocabularyModal()">&times;</button>
      </div>

      <div class="modal-body">
        <p>é€‰æ‹©è¦åˆå¹¶åˆ°çš„ç›®æ ‡è¯åº“ï¼š</p>
        <div class="form-group">
          <label for="targetVocabularySelect">ç›®æ ‡è¯åº“</label>
          <select id="targetVocabularySelect" class="form-control" required></select>
        </div>
        <div id="mergeInfo"
          style="margin: 15px 0; padding: 10px; background: #f8fafc; border-radius: 4px; border: 1px solid #e2e8f0;">
          <p style="margin: 0; color: #dc2626; font-weight: 500;">âš ï¸ æ³¨æ„ï¼šåˆå¹¶æ“ä½œä¸å¯æ’¤é”€</p>
          <p style="margin: 5px 0 0 0; color: #475569; font-size: 0.9rem;">æºè¯åº“çš„æ‰€æœ‰å•è¯å°†ç§»åŠ¨åˆ°ç›®æ ‡è¯åº“ï¼Œç„¶åæºè¯åº“å°†è¢«åˆ é™¤ã€‚</p>
        </div>
      </div>

      <div class="form-actions">
        <button class="btn btn-delete-large" onclick="closeMergeVocabularyModal()">å–æ¶ˆ</button>
        <button class="btn btn-primary" onclick="confirmMergeVocabulary()">ç¡®è®¤åˆå¹¶</button>
      </div>
    </div>
  </div>

  <!-- ç¼–è¾‘å•è¯æ¨¡æ€æ¡† -->
  <div id="editModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modalTitle" tabindex="-1">
      <div class="modal-header">
        <h3 class="modal-title" id="modalTitle">ç¼–è¾‘å•è¯</h3>
        <button class="modal-close" aria-label="å…³é—­" title="æŒ‰ Esc ä¹Ÿå¯å…³é—­" onclick="closeModal()">&times;</button>
      </div>

      <div class="modal-body">
        <div class="form-group">
          <label for="editWord">å•è¯</label>
          <input type="text" id="editWord" placeholder="è¾“å…¥è‹±æ–‡å•è¯">
        </div>
        <div class="form-group">
          <label for="editTranslations">ç¿»è¯‘ï¼ˆç”¨é€—å·åˆ†éš”å¤šä¸ªç¿»è¯‘ï¼‰</label>
          <input type="text" id="editTranslations" placeholder="å¦‚ï¼šç”ŸåŠ¨çš„, é²œæ˜çš„">
        </div>
        <div id="wordStatsContainer">
          <!-- åŠ¨æ€å•è¯ç»Ÿè®¡ä¿¡æ¯å°†åœ¨æ­¤å¤„æ³¨å…¥ -->
        </div>
      </div>

      <div class="form-actions">
        <button class="btn btn-delete-large" onclick="closeModal()">å–æ¶ˆ</button>
        <button class="btn btn-primary" onclick="saveWord()">ä¿å­˜</button>
      </div>
    </div>
  </div>

  <!-- ç¼–è¾‘ç»ƒä¹ è®°å½•æ¨¡æ€æ¡† -->
  <div id="editRecordModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="recordModalTitle" tabindex="-1">
      <div class="modal-header">
        <h3 class="modal-title" id="recordModalTitle">ç¼–è¾‘ç»ƒä¹ è®°å½•</h3>
        <button class="modal-close" aria-label="å…³é—­" title="æŒ‰ Esc ä¹Ÿå¯å…³é—­" onclick="closeRecordModal()">&times;</button>
      </div>
      <div class="modal-body">
        <form id="recordEditForm" onsubmit="saveRecordEdit(event)">
          <div class="form-group">
            <label for="editRecordWord">å•è¯:</label>
            <input type="text" id="editRecordWord" required>
          </div>
          <div class="form-group">
            <label for="editRecordMode">æ¨¡å¼:</label>
            <select id="editRecordMode" class="form-control" required></select>
          </div>
          <div class="form-group">
            <label for="editRecordDate">ç»ƒä¹ æ—¥æœŸ:</label>
            <input type="datetime-local" id="editRecordDate" required>
          </div>
          <div class="form-group">
            <label for="editRecordResult">ç»“æœ:</label>
            <select id="editRecordResult" class="form-control" required>
              <option value="true">æ­£ç¡®</option>
              <option value="false">é”™è¯¯</option>
            </select>
          </div>
          <div class="button-group">
            <button type="submit" class="btn btn-primary">ä¿å­˜</button>
            <button type="button" class="btn btn-delete-large" onclick="closeRecordModal()">å–æ¶ˆ</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- å¯¼å…¥ç¡®è®¤æ¨¡æ€æ¡† -->
  <div id="importConfirmModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="importConfirmTitle" tabindex="-1">
      <div class="modal-header">
        <h3 class="modal-title" id="importConfirmTitle">ç¡®è®¤å¯¼å…¥</h3>
        <button class="modal-close" aria-label="å…³é—­" title="æŒ‰ Esc ä¹Ÿå¯å…³é—­"
          onclick="closeImportConfirmModal()">&times;</button>
      </div>
      <div class="modal-body">
        <p>å¯¼å…¥å°†è¦†ç›–å½“å‰æ‰€æœ‰æ•°æ®ï¼Œç¡®å®šè¦ç»§ç»­å—ï¼Ÿ</p>
        <div id="importDataSummary" style="margin: 15px 0;"></div>
      </div>
      <div class="form-actions">
        <button type="button" class="btn btn-primary" onclick="confirmImport()">ç¡®è®¤å¯¼å…¥</button>
        <button type="button" class="btn btn-delete-large" onclick="closeImportConfirmModal()">å–æ¶ˆ</button>
      </div>
    </div>
  </div>

  <!-- æ‰¹é‡æ·»åŠ å•è¯æ¨¡æ€æ¡† -->
  <div id="batchAddModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="batchAddTitle" tabindex="-1">
      <div class="modal-header">
        <h3 class="modal-title" id="batchAddTitle">æ‰¹é‡æ·»åŠ å•è¯</h3>
        <button class="modal-close" aria-label="å…³é—­" title="æŒ‰ Esc ä¹Ÿå¯å…³é—­" onclick="closeBatchAddModal()">&times;</button>
      </div>

      <div class="modal-body">
        <div class="form-group">
          <label for="batchFormat">é€‰æ‹©å¯¼å…¥æ ¼å¼</label>
          <select id="batchFormat" class="form-control" onchange="showFormatHelp()">
            <option value="json">JSONæ ¼å¼</option>
            <option value="csv">CSVæ ¼å¼</option>
            <option value="excel">Excelå¤åˆ¶æ•°æ®</option>
          </select>
        </div>

        <div class="form-group">
          <label for="batchAddModeSelector">é€‰æ‹©æ·»åŠ æ¨¡å¼</label>
          <select id="batchAddModeSelector" class="form-control" onchange="updateBatchFormatHelp()">
            <option value="all">å…¨éƒ¨æ¨¡å¼</option>
            <!-- å…¶ä»–é€‰é¡¹å°†ç”±JavaScriptåŠ¨æ€å¡«å…… -->
          </select>
          <small class="form-text text-muted">
            é€‰æ‹©"å…¨éƒ¨æ¨¡å¼"å°†æŠŠå•è¯æ·»åŠ åˆ°æ‰€æœ‰æ¿€æ´»çš„æ¨¡å¼ä¸­ï¼Œæˆ–é€‰æ‹©ç‰¹å®šæ¨¡å¼åªæ›´æ–°è¯¥æ¨¡å¼çš„æ•°æ®
          </small>
        </div>

        <div class="format-help" id="jsonHelp">
          <p>JSONæ ¼å¼ç¤ºä¾‹:</p>
          <pre id="jsonHelpExample">[
  {"word": "vivid", "translations": ["ç”ŸåŠ¨çš„, é²œæ˜çš„"]},
  {"word": "ambiguous", "translations": ["æ¨¡ç³Šçš„"]}
]</pre>
          <p id="jsonHelpText">é€‰æ‹©å…¨éƒ¨æ¨¡å¼æ—¶ï¼Œåªéœ€æä¾›å•è¯å’Œç¿»è¯‘ï¼›é€‰æ‹©ç‰¹å®šæ¨¡å¼æ—¶ï¼Œå¯é¢å¤–æä¾›errorså’ŒpracticeCountæ•°æ®ã€‚</p>
        </div>

        <div class="format-help" id="csvHelp" style="display: none;">
          <p>CSVæ ¼å¼ç¤ºä¾‹:</p>
          <pre id="csvHelpExample">vivid,ç”ŸåŠ¨çš„,é²œæ˜çš„,0,0
ambiguous,æ¨¡ç³Šçš„,0,0</pre>
          <p id="csvHelpText">é€‰æ‹©å…¨éƒ¨æ¨¡å¼æ—¶ï¼Œåªéœ€æä¾›å•è¯å’Œç¿»è¯‘ï¼ˆå‰ä¸¤åˆ—ï¼‰ï¼›é€‰æ‹©ç‰¹å®šæ¨¡å¼æ—¶ï¼Œå¯é¢å¤–æä¾›é”™è¯¯æ¬¡æ•°å’Œç»ƒä¹ æ¬¡æ•°ï¼ˆåä¸¤åˆ—ï¼‰ã€‚</p>
        </div>

        <div class="format-help" id="excelHelp" style="display: none;">
          <p>Excelå¤åˆ¶æ•°æ®ç¤ºä¾‹:</p>
          <pre id="excelHelpExample">vivid    ç”ŸåŠ¨çš„    é²œæ˜çš„    0    0
ambiguous    æ¨¡ç³Šçš„    0    0</pre>
          <p id="excelHelpText">é€‰æ‹©å…¨éƒ¨æ¨¡å¼æ—¶ï¼Œåªéœ€æä¾›å•è¯å’Œç¿»è¯‘ï¼ˆå‰ä¸¤åˆ—ï¼‰ï¼›é€‰æ‹©ç‰¹å®šæ¨¡å¼æ—¶ï¼Œå¯é¢å¤–æä¾›é”™è¯¯æ¬¡æ•°å’Œç»ƒä¹ æ¬¡æ•°ï¼ˆåä¸¤åˆ—ï¼‰ã€‚</p>
        </div>

        <div class="form-group">
          <label for="batchData">ç²˜è´´æ•°æ®</label>
          <textarea id="batchData" class="form-control" rows="8" placeholder="ç²˜è´´æ•°æ®..."></textarea>
        </div>
      </div>

      <div class="form-actions">
        <button class="btn btn-delete-large" onclick="closeBatchAddModal()">å–æ¶ˆ</button>
        <button class="btn btn-primary" onclick="processBatchAdd()">å¯¼å…¥</button>
      </div>
    </div>
  </div>

  <!-- Toasté€šçŸ¥å®¹å™¨ -->
  <div id="toastContainer" class="toast-container"></div>

  <script src="js/common.js"></script>
  <script src="js/vocabulary-status-button.js"></script>
  <script src="js/mobile-nav.js"></script>
  <script src="js/admin.js"></script>

  <!-- Service Worker æ³¨å†Œ -->
  <script src="js/sw-register.js"></script>
</body>

</html>
